# Rime schema
# vim: set sw=2 sts=2 et:
# encoding: utf-8
# 版本號：22.8.5.2

schema:
  schema_id: zioephieng
  name: 標準吳語
  version: "2022.8.5"
  author:
    - 吳韻 <tittii@outlook.com>
    - 重光 <viktorsalehwu@gmail.com>
    - ThokCc <potato008@gmail.com>
    - te ˂goskhokoonga@gmail.com˃
  description: |
    Thanks to the following works:
      * CC-CEDICT
      * Android open source project
      * Chewing - 新酷音
      * 三拼簡繁詞庫
      * opencc - 開放中文轉換

switches:
  - name: ascii_mode
    reset: 0
    states: [ 中文, 西文 ]
  - name: half_shape
    states: [ 全角, 半角 ]
  - name: simplification
    states: [ 正體, 殘體 ]

engine:
  processors:
    - ascii_composer
    - recognizer
    - key_binder
    - speller
    - punctuator
    - selector
    - navigator
    - express_editor
  segmentors:
    - ascii_segmentor
    - matcher
    - abc_segmentor
    - punct_segmentor
    - fallback_segmentor
  translators:
    - punct_translator
    - script_translator              # 主翻譯器
    - table_translator@custom_phrase # 用戶短語
    - reverse_lookup_translator
  filters:
    - simplifier
    - uniquifier

speller:
  alphabet: zyxwvutsrqponmlkjihgfedcba
  delimiter: "'"
  algebra:
    - "xform/'//"
    - abbrev/^([a-z]).+$/$1/   #啓用首字母匹配
    - abbrev/^([ptkgszc]h).+$/$1/  #啓用首字母匹配
    - abbrev/^(ts).+$/$1/  #啓用首字母匹配
    - abbrev/^(tsh).+$/$1/  #啓用首字母匹配
    - abbrev/^(ng).+$/$1/  #啓用首字母匹配
    - "xlit/1234/qwxr/" 
    - "derive/^([A-Za-z]+)(\\d?)$/$1/"
    - derive/[qwxr]/                 # 忽略聲調
    #- derive/^ghu/w/ #dict.yaml裏頭嘸/w/，嘸得好啓用箇條。
    #- derive/^ghi/y/
    #- derive/ghu$/wu/
    #- derive/ghi$/yi/
    #- derive/ghiu$/yu/
    - derive/iae$/ie/
    - derive/iae$/ie/
    #- derive/yae$/ye/
    #- derive/yae$/ye/
    #- derive/uang$/ung/
    #- derive/ueng$/ung/
    #- derive/wang$/ghung/
    #- derive/weng$/ghung/
    #- derive/uak$/uk/
    #- derive/uek$/uk/
    #- derive/wak$/ghuk/
    #- derive/wek$/ghuk/
    #- derive/ieng$/ing/
    #- derive/iek$/ik/
    #- derive/yeng$/ying/
    #- derive/yek$/yik/
    #- derive/ng$/n/
    #- derive/k$/h/
    
    - derive/ao$/au/ #容錯 ao/au弗分 學習甌江片用
    - derive/uong$/ung/ #容錯 uong/ung弗分 學習甌江片用
    - derive/uok$/ok/ #容錯 uok/ok弗分 學習甌江片用
    
    #- derive/kei$/kiu/
    #- derive/khei$/khiu/
    #- derive/gei$/giu/
    #- derive/ngei$/ngiu/
    #- derive/^ei/iu/
    #- derive/ghei$/ghiu/
    #- derive/^gh/g/
    #- derive/au$/ao/
    #- derive/ai$/ei/
    #- derive/ei$/ai/
    #- derive/ai$/ae/

    #- derive/^tsi/ci/
    #- derive/^tshi/chi/
    #- derive/^si/shi/
    #- derive/^zi/zhi/

    #- derive/^te/toe/
    #- derive/^the/thoe/
    #- derive/^de/doe/
    #- derive/^ne/noe/
    #- derive/^le/loe/
    #- derive/^tse/tsoe/
    #- derive/^tshe/tshoe/
    #- derive/^se/soe/
    #- derive/^ze/zoe/
    #- derive/^ke/koe/
    #- derive/^khe/khoe/
    #- derive/^ge/goe/
    #- derive/^ghe/ghoe/
    #- derive/^he/hoe/
    #- derive/^e/oe/

translator:
  dictionary: zioephieng
  prism: zioephieng
  spelling_hints: 8
 
custom_phrase:
  dictionary: ""
  user_dict: zioephieng.words # 用戶詞典名
  db_class: stabledb       # 詞典類型爲只讀格式
  enable_completion: false
  enable_sentence: false
  initial_quality: 1

reverse_lookup:
  dictionary: luna_pinyin
  prefix: "`"
  suffix: "'"
  tips: 〔拼音〕
  preedit_format:
    - xform/([nl])v/$1ü/
    - xform/([nl])ue/$1üe/
    - xform/([jqxy])v/$1u/

punctuator:
  import_preset: symbols # 句讀處理器，統一從外部導入

key_binder:
  import_preset: default # 快捷鍵，統一從外部導入

recognizer:
  import_preset: default # 特殊規則輸入碼，統一從外部導入
  patterns:
    reverse_lookup: "`[a-z]*'?$"

